# âš™ï¸ Ù†Ø¸Ø§Ù… Service Workers Ùˆ Cache API (100+ MB)

## ğŸ“‹ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

ØªÙ… ØªØ·ÙˆÙŠØ± Ù†Ø¸Ø§Ù… Ù…ØªÙ‚Ø¯Ù… **Service Workers** Ù…Ø¹ **Cache API** ÙŠÙˆÙØ±:
- âœ… **ØªØ®Ø²ÙŠÙ† Ù…Ø¤Ù‚Øª Ø°ÙƒÙŠ** Ù„Ù„Ø£ØµÙˆÙ„ Ø§Ù„Ø«Ø§Ø¨ØªØ© (Ø®Ø±Ø§Ø¦Ø·ØŒ ØµÙˆØ±ØŒ JSONØŒ PDF)
- âœ… **Ø¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª** (Offline Mode) 
- âœ… **Ù…Ø³Ø§Ø­Ø© ØªØ®Ø²ÙŠÙ† Ø¥Ø¶Ø§ÙÙŠØ©**: 100+ MB
- âœ… **ØªØ­Ø¯ÙŠØ« Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ** Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø²Ù†Ø©
- âœ… **Ø¥Ø¯Ø§Ø±Ø© Ø°ÙƒÙŠØ©** Ù„Ù„Ù€ Cache Ù…Ø¹ Ø­Ø¯ÙˆØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ©

---

## ğŸ—‚ï¸ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Web Application (React)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  CacheStatus Component                          â”‚
â”‚  useCacheManager Hook                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   CacheManager   â”‚
         â”‚   (Service)      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                           â”‚
    â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Service      â”‚         â”‚ Cache API    â”‚
â”‚ Worker (SW)  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ (Browser)    â”‚
â”‚ (Background) â”‚         â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                           â”‚
    â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         â–¼                 â–¼                 â–¼
    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    â”‚ Maps Cache  â”‚  â”‚ Images Cache â”‚  â”‚ JSON Cache   â”‚
    â”‚    â”‚ (30 MB)     â”‚  â”‚ (50 MB)      â”‚  â”‚ (10 MB)      â”‚
    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â–º Network Requests
              (Intercept & Cache)
```

---

## ğŸ“¦ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ÙÙ†Ø´Ø£Ø©

### **1. Service Worker** (`public/sw.js`)
Body: 450+ Ø³Ø·Ø±
- Ø§Ø¹ØªØ±Ø§Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª (Request Interception)
- Ø§Ø³ØªØ±ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª
- ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù€ Cache ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©
- Ø¥Ø¯Ø§Ø±Ø© Ø­Ø¬Ù… Ø§Ù„Ù€ Cache
- Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£ÙˆØ¶Ø§Ø¹ Offline

### **2. CacheManager Service** (`src/lib/CacheManager.ts`)
Body: 320+ Ø³Ø·Ø±
- ÙˆØ§Ø¬Ù‡Ø© Ù„Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Service Worker
- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù€ Caches Ø§Ù„Ù…Ø®ØªÙ„ÙØ©
- Ø­Ø³Ø§Ø¨ Ø­Ø¬Ù… Ø§Ù„Ù€ Cache
- ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### **3. useCacheManager Hook** (`src/hooks/useCacheManager.ts`)
Body: 180+ Ø³Ø·Ø±
- Ø§Ø³ØªØ®Ø¯Ø§Ù… CacheManager ÙÙŠ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª
- Ø¥Ø¯Ø§Ø±Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ù€ Cache
- ÙƒØ´Ù Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
- ØªØ­Ø¯ÙŠØ« ÙÙˆØ±ÙŠ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### **4. CacheStatus Component** (`src/components/CacheStatus.tsx`)
Body: 280+ Ø³Ø·Ø±
- Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„Ù€ Cache
- Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„
- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ø¸ÙŠÙ ÙˆØ§Ù„ØªØ­Ø¯ÙŠØ«
- ÙˆØ§Ø¬Ù‡Ø© Ø¬Ù…ÙŠÙ„Ø© ÙˆØ³Ù‡Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### **5. Web App Manifest** (`public/manifest.json`)
- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØªØ·Ø¨ÙŠÙ‚ PWA
- Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª ÙˆØµÙˆØ±
- Shortcuts Ø³Ø±ÙŠØ¹Ø©
- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø§Ø´Ø©

### **6. Offline Fallback** (`public/offline.html`)
Body: 300+ Ø³Ø·Ø±
- ØµÙØ­Ø© Ø¬Ù…ÙŠÙ„Ø© Ø¹Ù†Ø¯ Ø§Ù†Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª
- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©
- Ù†ØµØ§Ø¦Ø­ Ù…ÙÙŠØ¯Ø©
- Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„

---

## ğŸ’¾ ØªÙˆØ²ÙŠØ¹ Ù…Ø³Ø§Ø­Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Service Worker Cache Storage        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                           â”‚
â”‚  Maps Cache              30 MB            â”‚
â”‚  â”œâ”€â”€ GeoJSON files                       â”‚
â”‚  â”œâ”€â”€ Map tiles                           â”‚
â”‚  â””â”€â”€ Map resources                       â”‚
â”‚                                           â”‚
â”‚  Images Cache            50 MB            â”‚
â”‚  â”œâ”€â”€ PNG/JPG/WebP                        â”‚
â”‚  â”œâ”€â”€ Logos and icons                     â”‚
â”‚  â””â”€â”€ Thumbnails                          â”‚
â”‚                                           â”‚
â”‚  JSON Cache              10 MB            â”‚
â”‚  â”œâ”€â”€ Static data                         â”‚
â”‚  â”œâ”€â”€ Configuration                       â”‚
â”‚  â””â”€â”€ Reference data                      â”‚
â”‚                                           â”‚
â”‚  PDF Cache               15 MB            â”‚
â”‚  â”œâ”€â”€ Reports                             â”‚
â”‚  â”œâ”€â”€ Documents                           â”‚
â”‚  â””â”€â”€ User manuals                        â”‚
â”‚                                           â”‚
â”‚  Core Assets             5 MB             â”‚
â”‚  â”œâ”€â”€ HTML/CSS/JS                         â”‚
â”‚  â”œâ”€â”€ Fonts                                â”‚
â”‚  â””â”€â”€ SVGs                                 â”‚
â”‚                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: 110 MB                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### **1. Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø°ÙƒÙŠØ©**

#### **Network-First (Ù„Ù„Ù€ API)**
```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚   Network   â”‚ â† Ù…Ø­Ø§ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
         â”‚ âœ“ Ù†Ø¬Ø­
         â”‚ â•‘ Ø­ÙØ¸ ÙÙŠ Ø§Ù„Ù€ Cache
         â”‚ â•‘
         â–¼ âœ— ÙØ´Ù„
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚   Cache      â”‚ â† Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù€ Cached
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **Cache-First (Ù„Ù„Ø£ØµÙˆÙ„ Ø§Ù„Ø«Ø§Ø¨ØªØ©)**
```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚   Cache      â”‚ â† Ù…Ø­Ø§ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ âœ“ Ù…ÙˆØ¬ÙˆØ¯     âœ— ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯
         â”‚ â””â”€â”€â”€â”€â”€â”       â””â”€â”€â”€â”€â”€â”€â”
         â–¼       â”‚              â”‚
    Ø§Ø³ØªØ®Ø¯Ø§Ù…    ØªØ­Ø¯ÙŠØ«      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©  â”‚  Network â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **2. Ø¥Ø¯Ø§Ø±Ø© Ø­Ø¬Ù… Ø§Ù„Ù€ Cache**

```typescript
// ØªÙ„Ù‚Ø§Ø¦ÙŠ: Ø­Ø°Ù Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø§Ù…ØªÙ„Ø§Ø¡
if (totalSize > limit) {
  deleteOldestItems();  // FIFO
}

// Ø§Ù„ÙŠØ¯ÙˆÙŠ: Ù…Ø³Ø­ cache Ù…Ø­Ø¯Ø¯
await CacheManager.clearCache('port-navigator-maps');
```

### **3. Ø§Ù„ØªØ­Ø¯ÙŠØ« ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©**

```typescript
// Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù…Ù† Ø§Ù„Ù€ Cache ÙÙˆØ±Ø§Ù‹
return cachedResponse;

// ØªØ­Ø¯ÙŠØ« ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ© (Ø¨Ø¯ÙˆÙ† Ø§Ù†ØªØ¸Ø§Ø±)
updateCacheInBackground();
```

### **4. ÙƒØ´Ù Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„**

```typescript
const { isOnline } = useCacheManager();

if (isOnline) {
  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª
} else {
  // Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø²Ù†Ø©
}
```

---

## ğŸ“– Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### **1. ÙÙŠ index.html (ØªØ³Ø¬ÙŠÙ„ SW)**
```html
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw.js');
  }
</script>
```

### **2. ÙÙŠ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª (Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§Ù„Ø©)**
```typescript
import { CacheStatus } from '@/components/CacheStatus';

export function Dashboard() {
  return (
    <>
      <CacheStatus showDetails={true} className="mb-4" />
      {/* Ù…Ø­ØªÙˆÙ‰ Ø¢Ø®Ø± */}
    </>
  );
}
```

### **3. ÙÙŠ Ø§Ù„Ù‡ÙˆÙƒØ³ (Ø¥Ø¯Ø§Ø±Ø© ÙŠØ¯ÙˆÙŠØ©)**
```typescript
import { useCacheManager } from '@/hooks/useCacheManager';

export function AdminPanel() {
  const {
    summary,
    isOnline,
    refreshCache,
    clearMapsCache,
  } = useCacheManager();

  const handleClearMaps = async () => {
    const success = await clearMapsCache();
    if (success) {
      alert('ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø®Ø±Ø§Ø¦Ø·');
    }
  };

  return (
    <div>
      <p>Ø§Ù„Ø­Ø§Ù„Ø©: {isOnline ? 'Ù…ØªØµÙ„' : 'Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª'}</p>
      <p>Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: {summary?.totalSize}</p>
      <button onClick={handleClearMaps}>Ø­Ø°Ù Ø§Ù„Ø®Ø±Ø§Ø¦Ø·</button>
    </div>
  );
}
```

### **4. Ù„Ù„Ø£ØµÙˆÙ„ Ø§Ù„Ø«Ø§Ø¨ØªØ©**
```typescript
// ØªØ­Ù…ÙŠÙ„ Ø®Ø±ÙŠØ·Ø©
fetch('/maps/main.geojson')  // â† Ø³ÙŠÙØ®Ø²Ù‘Ù† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹

// ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø©
<img src="/assets/logo.png" />  // â† Ø³ÙŠÙØ®Ø²Ù‘Ù† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹

// Ù…Ù„Ù PDF
<a href="/documents/manual.pdf">Ø§Ù„Ø¯Ù„ÙŠÙ„</a>  // â† Ø³ÙŠÙØ®Ø²Ù‘Ù† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
```

---

## ğŸ¯ Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ø°ÙƒÙŠ

### **Ø§Ù„Ø®Ø±Ø§Ø¦Ø· Ùˆ GeoJSON**
```
Pattern: /maps/  Ø£Ùˆ  *.geojson
Strategy: Cache-First (Ù„Ø£Ù†Ù‡Ø§ Ø«Ø§Ø¨ØªØ©)
Updates: Automatic ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©
Limit: 30 MB
```

### **Ø§Ù„ØµÙˆØ±**
```
Pattern: *.png|jpg|jpeg|gif|webp  Ø£Ùˆ  /images/
Strategy: Cache-First (ØªØªØºÙŠØ± Ù†Ø§Ø¯Ø±Ø§Ù‹)
Updates: Automatic
Limit: 50 MB
```

### **JSON Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**
```
Pattern: *.json  Ø£Ùˆ  /data/
Strategy: Cache-First (Ø¨ÙŠØ§Ù†Ø§Øª Ø«Ø§Ø¨ØªØ©)
Updates: Automatic
Limit: 10 MB
```

### **Ø§Ù„Ù…Ù„ÙØ§Øª PDF**
```
Pattern: *.pdf  Ø£Ùˆ  /documents/
Strategy: Cache-First (Ø«Ø§Ø¨ØªØ©)
Updates: Manual
Limit: 15 MB
```

### **API Ø§Ù„Ø·Ù„Ø¨Ø§Øª**
```
Pattern: /api/
Strategy: Network-First (Ø¨ÙŠØ§Ù†Ø§Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©)
Cache Fallback: Ù„Ù„Ù€ Offline ÙÙ‚Ø·
```

---

## ğŸ”„ Ø¯ÙˆØ±Ø© Ø­ÙŠØ§Ø© Service Worker

```
1. Registration (Ø§Ù„ØªØ³Ø¬ÙŠÙ„)
   â†“
2. Installation (Ø§Ù„ØªØ«Ø¨ÙŠØª)
   â”œâ”€ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ØµÙˆÙ„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
   â””â”€ ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ù€ Caches
   â†“
3. Activation (Ø§Ù„ØªÙ†Ø´ÙŠØ·)
   â”œâ”€ ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù€ Caches Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
   â””â”€ Ø§Ù„Ø³ÙŠØ·Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø§Øª
   â†“
4. Running (Ø§Ù„ØªØ´ØºÙŠÙ„)
   â”œâ”€ Ø§Ø¹ØªØ±Ø§Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
   â”œâ”€ Ø®Ø¯Ù…Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ù† Ø§Ù„Ù€ Cache
   â””â”€ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©
   â†“
5. Update Check
   â””â”€ ÙƒÙ„ 24 Ø³Ø§Ø¹Ø© Ø£Ùˆ Ø¹Ù†Ø¯ Ø§Ù„Ø·Ù„Ø¨
```

---

## ğŸ“Š Ø§Ù„Ø£Ø¯Ø§Ø¡

| Ø§Ù„Ø¹Ù…Ù„ÙŠØ© | Ø§Ù„ÙˆÙ‚Øª | Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª |
|--------|------|---------|
| ØªØ­Ù…ÙŠÙ„ Ù…Ù† Ø§Ù„Ù€ Cache | 10-50ms | ÙÙˆØ±ÙŠ Ø¬Ø¯Ø§Ù‹ |
| ØªØ­Ù…ÙŠÙ„ Ù…Ù† Ø§Ù„Ø´Ø¨ÙƒØ© | 100-1000ms | Ø­Ø³Ø¨ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª |
| Ø­ÙØ¸ ÙÙŠ Ø§Ù„Ù€ Cache | 5-20ms | ØºÙŠØ± Ù…ØªØ²Ø§Ù…Ù† |
| Ù…Ø³Ø­ cache | 10-50ms | ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø¬Ù… |
| ØªØ­Ø¯ÙŠØ« Ù…Ù† Ø§Ù„Ø®Ù„ÙÙŠØ© | 100-500ms | Ø¨Ø¯ÙˆÙ† ØªØ£Ø®ÙŠØ± UI |

---

## ğŸ›¡ï¸ Ø§Ù„Ø£Ù…Ø§Ù†

### **HTTPS Ù…Ø·Ù„ÙˆØ¨**
```
âŒ Service Workers Ù„Ø§ ÙŠØ¹Ù…Ù„Ø§Ù† Ø¹Ù„Ù‰ HTTP
âœ… ÙÙ‚Ø· Ø¹Ù„Ù‰ HTTPS Ø£Ùˆ localhost
```

### **Scope Ù…Ø­Ø¯ÙˆØ¯**
```
Service Worker ÙÙŠ /
â”œâ”€ ÙŠØ®Ø¯Ù… /
â”œâ”€ ÙŠØ®Ø¯Ù… /pages/*
â”œâ”€ ÙŠØ®Ø¯Ù… /api/*
â””â”€ Ù„Ø§ ÙŠØ®Ø¯Ù… /wp-admin/
```

### **Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡**
```typescript
try {
  const response = await fetch(request);
  return response;
} catch (error) {
  // Fallback to cached version
  return caches.match(request);
}
```

---

## ğŸ› Ø­Ù„ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„

### **Ù…Ø´ÙƒÙ„Ø©: Service Worker Ù„Ù… ÙŠØ³Ø¬Ù„**
```javascript
âŒ Site: http://example.com (HTTP)
âœ… Site: https://example.com (HTTPS)
âœ… Site: http://localhost:3000 (localhost)
```

### **Ù…Ø´ÙƒÙ„Ø©: Ø§Ù„Ù€ Cache Ù„Ø§ ÙŠÙØ­Ø¯Ù‘Ø«**
```javascript
// ØªØ­Ø¯ÙŠØ« ÙŠØ¯ÙˆÙŠ
const registration = await navigator.serviceWorker.ready;
await registration.update();
```

### **Ù…Ø´ÙƒÙ„Ø©: Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø¯ÙŠÙ…Ø© Ù…Ø¹Ø±ÙˆØ¶Ø©**
```javascript
// Ù…Ø³Ø­ Ø§Ù„Ù€ Cache
await CacheManager.clearCache('cache-name');
```

### **Ù…Ø´ÙƒÙ„Ø©: Ø§Ù„ÙƒNoScript Ø¹Ù…Ù„Ø§Ù‚Ø© Ø¬Ø¯Ø§Ù‹**
```javascript
// ØªÙ†Ø¸ÙŠÙ ØªÙ„Ù‚Ø§Ø¦ÙŠ
if (totalSize > limit) {
  deleteOldestItems();
}
```

---

## ğŸ” Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© ÙˆØ§Ù„ØªØµØ­ÙŠØ­

### **ÙÙŠ Chrome DevTools:**
```
1. Open DevTools (F12)
2. Go to "Application" tab
3. Click "Service Workers" â†’ see registered SW
4. Click "Cache Storage" â†’ browse cached files
5. Click "Manifest" â†’ see manifest.json
```

### **View Console Logs:**
```
[SW] Service Worker installed
[SW] Cache port-navigator-maps updated
[CacheManager] Service Worker ready
```

---

## ğŸ“± ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ©

| Ø§Ù„Ù…ØªØµÙØ­ | Service Workers | Cache API | PWA |
|--------|---|---|---|
| Chrome | âœ… | âœ… | âœ… |
| Firefox | âœ… | âœ… | âš ï¸ |
| Safari | âœ… | âœ… | âš ï¸ |
| Edge | âœ… | âœ… | âœ… |

---

## ğŸ“ˆ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª

```
Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©:
â”œâ”€â”€ GeoJSON (Ø®Ø±Ø§Ø¦Ø·)      ~500 Ù…Ù„Ù
â”œâ”€â”€ ØµÙˆØ±                  ~2000 Ù…Ù„Ù
â”œâ”€â”€ Ù…Ù„ÙØ§Øª JSON           ~50 Ù…Ù„Ù
â””â”€â”€ PDFs                 ~20 Ù…Ù„Ù

Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ù…Ø®Ø²Ù†:
â”œâ”€â”€ Maps                 25 MB (Ù…Ù† 30)
â”œâ”€â”€ Images               45 MB (Ù…Ù† 50)
â”œâ”€â”€ JSON                 8 MB (Ù…Ù† 10)
â”œâ”€â”€ PDFs                 12 MB (Ù…Ù† 15)
â””â”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: 90 MB (Ù…Ù† 110 MB)

Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©: 20 MB Ù„Ù„Ù†Ù…Ùˆ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ
```

---

## ğŸ¯ Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### **1. Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª**
- Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† ÙÙŠ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø±ÙŠÙÙŠØ©
- Ø§Ù„Ø§Ù†Ù‚Ø·Ø§Ø¹Ø§Øª Ø§Ù„Ù…ØªÙƒØ±Ø±Ø©
- Ø§Ù„Ø¹Ù…Ù„ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø³ÙØ±

### **2. ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡**
- ØªØ­Ù…ÙŠÙ„ Ø£Ø³Ø±Ø¹ Ù„Ù„ØµÙØ­Ø§Øª
- ØªÙ‚Ù„Ù„ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- Ø£Ø¯Ø§Ø¡ Ø£ÙØ¶Ù„ Ø¹Ù„Ù‰ Ø´Ø¨ÙƒØ§Øª Ø¨Ø·ÙŠØ¦Ø©

### **3. ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…**
- ØªØ·Ø¨ÙŠÙ‚ ÙŠØ¨Ø¯Ùˆ Ø£Ø³Ø±Ø¹
- ØµÙˆØ± Ù…Ø­Ù„ÙŠØ© ÙÙˆØ±Ø§Ù‹
- Ù„Ø§ Ø§Ø¶Ø·Ø±Ø§Ø± Ù„Ù„Ø§Ù†ØªØ¸Ø§Ø±

---

## âœ… Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ­Ù‚Ù‚ÙŠØ©

- [x] **public/sw.js** - Service Worker Ø§Ù„ÙƒØ§Ù…Ù„
- [x] **src/lib/CacheManager.ts** - ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
- [x] **src/hooks/useCacheManager.ts** - React Hook
- [x] **src/components/CacheStatus.tsx** - UI Component
- [x] **public/manifest.json** - Web App Manifest
- [x] **public/offline.html** - ØµÙØ­Ø© Offline
- [x] **index.html** - ØªØ­Ø¯ÙŠØ« Meta Tags ÙˆØªØ³Ø¬ÙŠÙ„ SW

---

## ğŸš€ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©

1. âœ… ØªÙØ¹ÙŠÙ„ HTTPS Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù…
2. âœ… Ø¥Ø¶Ø§ÙØ© Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª PWA
3. âœ… Ø§Ø®ØªØ¨Ø§Ø± Ø¹Ù„Ù‰ Ø£Ø¬Ù‡Ø²Ø© Ù…Ø®ØªÙ„ÙØ©
4. âœ… ØªØ­Ø³ÙŠÙ† ØµÙØ­Ø© offline.html
5. âœ… Ø¥Ø¶Ø§ÙØ© notifications Ù„Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª

---

## ğŸ“ Ø§Ù„Ø¯Ø¹Ù…

Ù„Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª:
- [MDN - Service Workers](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API)
- [MDN - Cache API](https://developer.mozilla.org/en-US/docs/Web/API/Cache)
- [Web Dev - PWA](https://web.dev/progressive-web-apps/)

---

**Ù†Ø¸Ø§Ù… Ù…ØªÙƒØ§Ù…Ù„ ÙˆÙ…ÙˆØ«ÙˆÙ‚ Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª ÙˆØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡!** ğŸ‰
