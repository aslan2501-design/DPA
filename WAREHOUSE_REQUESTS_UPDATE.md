# ุชุญุฏูุซ ุฅุฏุงุฑุฉ ุทูุจุงุช ุงููุฎุงุฒู ุงูุชูุงุนููุฉ
## Interactive Warehouse Requests Management Update

**ุงูุชุงุฑูุฎ:** 6 ูุจุฑุงูุฑ 2026  
**ุงูููุถูุน:** ุฏูุฌ ุงูุฎุฑูุทุฉ ุงูุชูุงุนููุฉ ูุน ูููุฐุฌ ุทูุจ ุงููุฎุฒู ูู ุตูุญุฉ ุงูุทูุจุงุช

---

## ๐ ููุฎุต ุงูุชุญุฏูุซุงุช

### โ ุงููุชุทูุจุงุช ุงูููุฌุฒุฉ:

#### 1๏ธโฃ **ุชุจููุจ ุงูุทูุจุงุช - ุฅุฏุงุฑุฉ ุทูุจุงุช ุงููุฎุงุฒู**
- โ ุฃุถูู ุฒุฑ "ุทูุจ ูุฎุฒู" ูู ุตูุญุฉ ุงูุทูุจุงุช (`/requests`)
- โ ุนูุฏ ุงูุถุบุท ุนููู ููุชุญ Dialog ูุชูุฏู ุจุฏูุงู ูู ูููุฐุฌ ุจุณูุท
- โ Dialog ูุชุถูู ุฌููุน ุงููุธุงุฆู ุงููุทููุจุฉ

#### 2๏ธโฃ **ุงูุฎุฑูุทุฉ ุงูุชูุงุนููุฉ (Interactive Map)**
- โ ุชู ุฏูุฌ ุฎุฑูุทุฉ ุงููุฎุงุฒู ูู ุงููุณุงุฑ: `public/maps/ุงููุฎุงุฒู/index.html`
- โ ุงูุฎุฑูุทุฉ ุชุญุชูู ุนูู **97 ูููุน ูุฎุฒู** ูุญุฏุฏ ูุณุจูุงู
- โ ูู ูุฎุฒู ูุนุฑูู ุจุงุณู ูุงุถุญ ููููุน ุฌุบุฑุงูู ุฏููู
- โ ูููู ูููุณุชุฎุฏู ุงุฎุชูุงุฑ ูุฎุฒู ูุจุงุดุฑุฉ ูู ุงูุฎุฑูุทุฉ ุจุงูููุฑ ุนููู

#### 3๏ธโฃ **ุงููุงุฆูุฉ ุงูููุณุฏูุฉ (Warehouse Dropdown)**
- โ ุชุญุชูู ุนูู **47 ุงุณู ูุฎุฒู** ูุณุชุฎุฑุฌ ูู ุจูุงูุงุช ุงูุฎุฑูุทุฉ
- โ ุงููุงุฆูุฉ ุชุนุฑุถ:
  - 16 ูุนุฏุงุช ูุณุงุญุงุช ุชุฎุฒูู
  - 31 ูุฎุฒู ูุชุฎุตุต
- โ ูููู ุงูุจุญุซ ูุงูุชุตููุฉ ูู ุงููุงุฆูุฉ
- โ ุนุฑุถ ุฑุณุงูุฉ ุชุฃููุฏ ุนูุฏ ุงูุงุฎุชูุงุฑ

#### 4๏ธโฃ **ุงูุชุฒุงูู ุงูุซูุงุฆู (Two-Way Synchronization)**
- โ **ุนูุฏ ุงุฎุชูุงุฑ ูุฎุฒู ูู ุงูุฎุฑูุทุฉ:**
  - ูุชู ุชุญุฏูุฏ ููุณ ุงููุฎุฒู ุชููุงุฆูุงู ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
  - ูุชู ุชุญุฏูุซ State ุงูุตูุญุฉ ูุน ุงุณู ุงููุฎุฒู ุงููุฎุชุงุฑ
  - ูุธูุฑ ุฑุณุงูุฉ ุฎุถุฑุงุก: "โ ุชู ุงุฎุชูุงุฑ: [ุงุณู ุงููุฎุฒู]"

- โ **ุนูุฏ ุงุฎุชูุงุฑ ูุฎุฒู ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ:**
  - ูุชู ุฅุฑุณุงู ุฑุณุงูุฉ ุฅูู ุงูุฎุฑูุทุฉ ุนุจุฑ `window.postMessage`
  - ุชููู ุงูุฎุฑูุทุฉ ุจุชูููุฒ ุงููุฎุฒู (Highlight)
  - ูุฏ ูุชู ุชูุจูุฑ ุงูุฎุฑูุทุฉ ุนูู ุงููููุน ุงููุฎุชุงุฑ (Zoom - ุฅุฐุง ูุงูุช ุงูุฎุฑูุทุฉ ุชุฏุนู ุฐูู)

---

## ๐ง ุงูุชูุงุตูู ุงูุชูููุฉ

### ูููุงุช ุชู ุชุญุฏูุซูุง:

#### 1. **src/pages/Requests.tsx** (ุงูููู ุงูุฑุฆูุณู)
```tsx
// ุฅุถุงูุงุช ุฑุฆูุณูุฉ:

// 1. ุงุณุชุฎุฑุงุฌ ูุงุฆูุฉ ุงููุฎุงุฒู
const WAREHOUSES_LIST = [
  'ูุนุฏุงุช ุณูุณูู ุชุฑุงูุณ',
  'ูุนุฏุงุช ููุฏ ุณููุช',
  // ... (47 ูุฎุฒู ุฅุฌูุงูุงู)
];

// 2. ุฅุถุงูุฉ refs ูุงูู states
const warehouseMapRef = useRef<HTMLIFrameElement | null>(null);
const [selectedWarehouseMap, setSelectedWarehouseMap] = useState<string>('');

// 3. ุฅุถุงูุฉ listeners ููุฎุฑูุทุฉ
useEffect(() => {
  const handleMapMessage = (event: MessageEvent) => {
    if (event.data && event.data.type === 'warehouseSelected') {
      const warehouseName = event.data.warehouseName;
      setSelectedWarehouseMap(warehouseName);
      setWarehouseFormData({ ...warehouseFormData, selectedWarehouse: warehouseName });
    }
  };
  window.addEventListener('message', handleMapMessage);
  return () => window.removeEventListener('message', handleMapMessage);
}, [warehouseFormData]);

// 4. ูุนุงูุฌ ุชุบููุฑ ุงูู Dropdown
const handleWarehouseChange = (warehouseName: string) => {
  setSelectedWarehouseMap(warehouseName);
  setWarehouseFormData({ ...warehouseFormData, selectedWarehouse: warehouseName });
  // ุฅุฑุณุงู ุฑุณุงูุฉ ุฅูู ุงูุฎุฑูุทุฉ
  try {
    const iframe = warehouseMapRef.current;
    if (!iframe || !iframe.contentWindow) return;
    iframe.contentWindow.postMessage({
      type: 'focusWarehouse',
      warehouseName: warehouseName,
    }, '*');
  } catch (e) {}
};
```

#### 2. **Dialog ุทูุจ ุงููุฎุฒู (ุงูุฌุฏูุฏ)**
```tsx
<DialogContent className="max-w-4xl max-h-[90vh] overflow-y-auto">
  {/* Warehouse Map Section */}
  <div className="space-y-2">
    <Label className="text-base font-semibold">ุฎุฑูุทุฉ ุงููุฎุงุฒู</Label>
    <iframe
      ref={warehouseMapRef}
      src="/maps/ุงููุฎุงุฒู/index.html"
      className="w-full h-64"
    />
  </div>

  {/* Warehouse Dropdown Section */}
  <div className="space-y-2">
    <Label className="font-semibold">ุงููุฎุฒู</Label>
    <Select value={selectedWarehouseMap} onValueChange={handleWarehouseChange}>
      <SelectTrigger className="h-10">
        <SelectValue placeholder="ุงุฎุชุฑ ุงููุฎุฒู ูู ุงููุงุฆูุฉ" />
      </SelectTrigger>
      <SelectContent className="max-h-64">
        {WAREHOUSES_LIST.map((warehouse, index) => (
          <SelectItem key={index} value={warehouse}>
            {warehouse}
          </SelectItem>
        ))}
      </SelectContent>
    </Select>
    {selectedWarehouseMap && (
      <p className="text-sm text-green-600 font-medium">
        โ ุชู ุงุฎุชูุงุฑ: {selectedWarehouseMap}
      </p>
    )}
  </div>

  {/* Form Fields */}
  <div className="space-y-2">
    <Label>ุตุงุญุจ ุงูุดุฃู / ุงุณู ุงูุดุฑูุฉ</Label>
    <Input
      placeholder="Company name or owner"
      value={warehouseFormData.owner}
      onChange={(e) => setWarehouseFormData({ ...warehouseFormData, owner: e.target.value })}
      required
    />
  </div>
  {/* More form fields... */}
</DialogContent>
```

---

## ๐ฏ ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู (User Experience)

### ุฎุทูุงุช ุงุณุชุฎุฏุงู ุงููุธุงู:

**1. ุฏุฎูู ุตูุญุฉ ุงูุทูุจุงุช:**
```
ุงูุฑุงุจุท: /requests
ุฃู ูู ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ: nav.requests
```

**2. ุงูุถุบุท ุนูู ุฒุฑ "ุทูุจ ูุฎุฒู":**
```
ููุชุญ Dialog ุจู:
- ุฎุฑูุทุฉ ุงููุฎุงุฒู ุงูุชูุงุนููุฉ (ูู ุงูุฃุนูู)
- ูุงุฆูุฉ ููุณุฏูุฉ ุจุฌููุน ุงููุฎุงุฒู (ุชุญุชูุง)
- ูููุฐุฌ ุงูุชูุงุตูู (ุฃุณูู)
```

**3. ุงุฎุชูุงุฑ ุงููุฎุฒู (ุฃุญุฏ ุงูุทุฑููุชูู):**

**ุงูุทุฑููุฉ ุงูุฃููู - ูู ุงูุฎุฑูุทุฉ:**
- ุงููุฑ ุนูู ูุฎุฒู ูู ุงูุฎุฑูุทุฉ
- ุณูุชู ุชุญุฏูุซู ุชููุงุฆูุงู ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
- ุณุชุธูุฑ ุฑุณุงูุฉ: "โ ุชู ุงุฎุชูุงุฑ: [ุงุณู ุงููุฎุฒู]"

**ุงูุทุฑููุฉ ุงูุซุงููุฉ - ูู ุงููุงุฆูุฉ:**
- ุงุฎุชุฑ ุงููุฎุฒู ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
- ุณุชููู ุงูุฎุฑูุทุฉ ุจุชูููุฒ ุงููููุน ุชููุงุฆูุงู
- ุณุชุธูุฑ ุฑุณุงูุฉ: "โ ุชู ุงุฎุชูุงุฑ: [ุงุณู ุงููุฎุฒู]"

**4. ููุก ุงูุญููู ุงููุทููุจุฉ:**
```
- ุตุงุญุจ ุงูุดุฃู / ุงุณู ุงูุดุฑูุฉ (ูุซุงู: ุดุฑูุฉ ุงูุณููุณ ููุดุญู)
- ููุน ุงูุจุถุงุนุฉ (ูุซุงู: ุงููุนุงุฏูุ ุงูุญุจูุจุ ุงููููุงููุงุช)
- ุงููููุฉ (ุจุงูุทู) (ูุซุงู: 150)
- ุชุงุฑูุฎ ุงูุจุฏุงูุฉ
- ุชุงุฑูุฎ ุงูููุงูุฉ
```

**5. ุฅุฑุณุงู ุงูุทูุจ:**
- ุงูุถุบุท ุนูู ุฒุฑ "ุฅุฑุณุงู ุงูุทูุจ"
- ุณูุชู ุญูุธ ุงูุทูุจ ุจุญุงูุฉ "ููุฏ ุงูุงูุชุธุงุฑ"
- ุธููุฑ ุฑุณุงูุฉ ุชุฃููุฏ ูููุณุชุฎุฏู
- ุฅุบูุงู Dialog ุชููุงุฆูุงู

---

## ๐ ุงูุจูุงูุงุช ุงููุณุชุฎุฏูุฉ

### ูุงุฆูุฉ ุงููุฎุงุฒู (47 ูุฎุฒู):

**ุงููุนุฏุงุช ูุงูุณุงุญุงุช (16):**
1. ูุนุฏุงุช ุณูุณูู ุชุฑุงูุณ
2. ูุนุฏุงุช ููุฏ ุณููุช
3. ูุนุฏุงุช ูุงุฑูู ููุฌูุณุชูู
4. ูุนุฏุงุช ุณู ุณูุฑููุณ
5. ูุนุฏุงุช ุฅูุฑูู
6. ุณุงุญุฉ ูุนุฏุงุช ุฑููุงู ุณู
7. ุงูุณุฏ ุงูุนุงูู
8. ูุงุฑูู ููุฌูุณุชูู
9. ูุนุฏุงุช ุงูุดุฑูู
10. ุงูุดุฑูุฉ ุงูุจุญุฑูุฉ ูุญูุฏ ูุชุญู
11. ูุนุฏุงุช ุณูุณูู
12. ูุนุฏุงุช ุงููุฌุฏ ูุฌุฏู ุจุตุงุฑ
13. ูุนุฏุงุช ุงูุจุฏุฑู
14. ูุนุฏุงุช ุณูุงุจู
15. ูุนุฏุงุช ุงูุทูุงูู - ุงููุตุฑูุฉ
16. ูุนุฏุงุช ุงููุฌุฏ ูุชูุฑูุฑ ุงูุฒููุช

**ุงููุฎุงุฒู ุงููุชุฎุตุตุฉ (31):**
17. ูุฎุฒู ุณูุณูู
18. ูุฎุฒู ูุงูุฑู ุซุฑู
19. ูุฎุฒู ุณู ุชุฑุงูุณ
20. ูุฎุฒู ูุงูุฑูุซุฑู ุงูู
21. ูุฎุฒู ุงููุฌุฏ ูุชูุฑูุฑ ุงูุฒููุช
22. ูุฎุฒู ูุงูุฑู ุซุฑู ุงูู
23. ูุฎุฒู ุณูุงุจู
24. ูุฎุฒู ุงูุฏููููุฉ
25. ูุฎุฒู ููุฏ ุณููุช
26. ูุฎุฒู ูููู ุงูููุฆุฉ
27. ูุฎุฒู ุชุงุจุน ููููุฆุฉ
28. ูุฎุฒู ุณู ุณูุฑููุณ
29. ูุฎุงุฒู ูุงูุฑู ุซุฑู ุงูู
30. ูุฎุฒู ูุงุฌ
31. ูุฎุฒู ุณูุณูู ุชุฑุงูุณ
32. ูุฎุฒู ุงููุทููุฉ
33. ูุฎุฒู ุงูุตูุงูุน
34. ูุฎุฒู ุงูุฑุญุงุจ
35. ุงูุณููุณุฑูุฉ
36. ุณูุงุจู ููุดุญู ูุงูุชูุฑูุบ
37. ุงููุงุฑุณ ุงูุนุฑุจู
38. ุฅุณุจุฑูุง ูุตุฑ
39. ุฑููุงู ููุจุชุฑููููุงููุงุช
40. ุฃุฌูุงุก
41. ุนุงููุฉ ููุฒููุช
42. ุฅููู
43. ุงููุง ูุตุฑ
44. ุงููุชุญุฏุฉ ููุฒููุช
45. ุฃุฑูุง
46. ุงูุฏูุชุง ููุณูุฑ
47. ุงูููุตูุฑุฉ ููุฑุงุชูุฌุงุช

---

## ๐ ุงูุชูุงูููุฉ ูุชูููุฑ ุงููุชุทูุจุงุช

### โ ุฌูุฏุฉ ุงูุชูููุฐ:

- **ุงูุชุฒุงูู ุงููุงูู:** ุงูุฎุฑูุทุฉ ูุงููุงุฆูุฉ ูุชุฒุงููุชุงู ุจุดูู ููุฑู
- **ูุงุฌูุฉ ูุณุชุฎุฏู ุญุฏูุซุฉ:** Dialog ูุงุณุน ูุน ุนูุงุตุฑ ุชุญูู ูุงุถุญุฉ
- **ุฑุณุงุฆู ุชุฃููุฏ:** ุงููุณุชุฎุฏู ูุฑู ุฑุณุงุฆู ูุงุถุญุฉ ุนูุฏ ูู ุฎุทูุฉ
- **ุงูุชุญูู ูู ุงูุจูุงูุงุช:** ูุง ูููู ุฅุฑุณุงู ุงูุทูุจ ุจุฏูู ุงุฎุชูุงุฑ ูุฎุฒู
- **ุฏุนู ุงููุบุงุช:** ูุงุฌูุฉ ูุงููุฉ ุจุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
- **ุงุณุชุฌุงุจุฉ ุงูุฎุงุฏู:** ุชุญุฏูุซุงุช ููุฑูุฉ ุนุจุฑ HMR (Hot Module Replacement)

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู ูู ุงูุฅูุชุงุฌ

### ุชูุนูู ุงูููุฒุฉ:

1. **ุงููุณุชุฎุฏููู ุงููุตุฑุญ ููู:**
   - ุฌูุงุช ุฎุงุฑุฌูุฉ (COMMUNITY)
   - ููุธูู ุงูููุฆุฉ (DPA_STAFF)
   - ุงููุณุคูููู (ADMIN)

2. **ุงููุณุชุฎุฏููู ุจุฑุชููู ูุฑุงุกุฉ ููุท (Read-Only):**
   - ุฑุฆูุณ ูุฌูุณ ุงูุฅุฏุงุฑุฉ (CHAIRMAN) - ูุง ูุณุชุทูุน ุชูุฏูู ุงูุทูุจุงุช

3. **ุงูุตูุงุญูุงุช ุงููุทููุจุฉ:**
   - `EDIT_SHIPPING` - ูุชูุฏูู ุทูุจุงุช ุงููุฎุงุฒู
   - `VIEW_REQUESTS` - ูุนุฑุถ ุงูุทูุจุงุช ุงูููุฏูุฉ

---

## ๐ ููุงุญุธุงุช ุฅุถุงููุฉ

### ูุณุงุฑุงุช ุงููููุงุช:
- **ุฎุฑูุทุฉ ุงููุฎุงุฒู:** `public/maps/ุงููุฎุงุฒู/index.html`
- **ุตูุญุฉ ุงูุทูุจุงุช:** `src/pages/Requests.tsx`
- **ุตูุญุฉ ุฑุฆูุณูุฉ:** ุชุญุชูู ุนูู Header ููุญุฏูุซ ูุน ุฑุงุจุท ููุทูุจุงุช

### ุฃุฏุงุก ุงููุธุงู:
- **ุญุฌู Dialog:** ุฃูุตู ุนุฑุถ 4xl (56rem) ูุงุฑุชูุงุน ุญุชู 90vh ูุน ุชูุฑูุฑ ุนููุฏู
- **ุงุณุชุฌุงุจุฉ ุงูุฎุฑูุทุฉ:** ููุฑูุฉ ุนูุฏ ุงูุงุฎุชูุงุฑ ูู ุงููุงุฆูุฉ
- **ุงุณุชุฌุงุจุฉ ุงููุงุฆูุฉ:** ููุฑูุฉ ุนูุฏ ุงูุงุฎุชูุงุฑ ูู ุงูุฎุฑูุทุฉ (ุงุนุชูุงุฏุงู ุนูู ุฏุนู ุงูุฎุฑูุทุฉ)

### ุชุญุฏูุซุงุช ูุณุชูุจููุฉ ูุญุชููุฉ:
- ุฅุถุงูุฉ ุชูุงุตูู ุฅุถุงููุฉ ููู ูุฎุฒู (ุงููุณุงุญุฉุ ุงูุณุนุฉุ ุงููุฑุงูู)
- ุชุทุจูู ููุงุชุฑ ูุชูุฏูุฉ (ููุน ุงููุฎุฒูุ ุงูุณุนุฉ ุงููุชุงุญุฉ)
- ุฅููุงููุฉ ุนุฑุถ ุญุงูุฉ ุงููุฎุฒู (ุดุงุบุฑุ ูุดุบููุ ุตูุงูุฉ)
- ุชูุงุฑูุฑ ููุตูุฉ ุนู ุงูุทูุจุงุช ุงููุฑุณูุฉ

---

## โ ุงูุฎูุงุตุฉ

ุชู ุจูุฌุงุญ ุชุทุจูู **ูุธุงู ุทูุจ ุงููุฎุงุฒู ุงูุชูุงุนูู ุงููุงูู** ูุน:
- โ ุฎุฑูุทุฉ ุชูุงุนููุฉ ูุฏูุฌุฉ (97 ูุฎุฒู)
- โ ูุงุฆูุฉ ููุณุฏูุฉ (47 ูุฎุฒู ูุชุงุญ)
- โ ุชุฒุงูู ุซูุงุฆู ุงูุงุชุฌุงู ููุฑู
- โ ูุงุฌูุฉ ูุณุชุฎุฏู ุญุฏูุซุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู
- โ ุฏุนู ูุงูู ููุบุฉ ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
- โ ุชุญูู ูู ุงูุจูุงูุงุช ูุงูุตูุงุญูุงุช
- โ ุฑุณุงุฆู ุชุฃููุฏ ูุงุถุญุฉ ูููุณุชุฎุฏู

**ุงูุญุงูุฉ:** ๐ข **ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูููุฑู**

---

*ุขุฎุฑ ุชุญุฏูุซ: 6 ูุจุฑุงูุฑ 2026*
